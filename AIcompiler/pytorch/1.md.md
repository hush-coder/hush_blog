AI编译器-pytorch篇(1)

**AI编译器-tpu_mlir篇（1）**

# 摘要

本篇笔记系统梳理了AI编译器tpu_mlir的整体架构、核心概念与关键实现，包括模型转换流程、MLIR语法、类型系统、Operation、Attribute等基础知识，并结合深度学习实际场景给出丰富实例，帮助读者快速理解AI编译器的原理与工程实现。

# 目录

- [摘要](#摘要)
- [目录](#目录)
- [前言](#前言)
- [AI编译器](#ai编译器)
- [整体架构](#整体架构)
  - [流程](#流程)
  - [python接口](#python接口)
    - [MODEL to MLIR](#model-to-mlir)
    - [MLIR to F16 bmodel](#mlir-to-f16-bmodel)
    - [MLIR to INT8 bmodel](#mlir-to-int8-bmodel)
- [一些基础](#一些基础)
  - [什么是张量？](#什么是张量)
  - [什么是算子？](#什么是算子)
- [MLIR语法](#mlir语法)
  - [一些问题](#一些问题)
  - [Dialect](#dialect)
    - [定义](#定义)
    - [几个名词](#几个名词)
    - [整体实现方式](#整体实现方式)
  - [基本概念](#基本概念)
  - [Operation](#operation)
  - [Value](#value)
  - [Type](#type)
    - [mlir::Type (基类)](#mlirtype-基类)
    - [ShapedType (有形状的类型)](#shapedtype-有形状的类型)
    - [TensorType (张量类型)](#tensortype-张量类型)
    - [实际使用示例](#实际使用示例)
    - [在深度学习中的意义](#在深度学习中的意义)
  - [Attribute](#attribute)
    - [定义](#定义-1)
    - [Attribute 的作用](#attribute-的作用)
    - [Attribute 与 Value 的区别](#attribute-与-value-的区别)
    - [常见的MLIR Attribute类型](#常见的mlir-attribute类型)
      - [1. 数值Attribute](#1-数值attribute)
      - [2. 张量Attribute](#2-张量attribute)
      - [3. 字符串Attribute](#3-字符串attribute)
      - [4. 数组Attribute](#4-数组attribute)
    - [在深度学习中的常见Attribute](#在深度学习中的常见attribute)
      - [卷积操作](#卷积操作)
      - [池化操作](#池化操作)
    - [Attribute 的访问方式](#attribute-的访问方式)
      - [C++代码中访问Attribute](#c代码中访问attribute)
    - [Attribute 的重要性](#attribute-的重要性)
    - [在TPU-MLIR中的意义](#在tpu-mlir中的意义)
    - [具体实例](#具体实例)
      - [实例1：常量操作](#实例1常量操作)
      - [实例2：卷积操作](#实例2卷积操作)
      - [实例3：池化操作](#实例3池化操作)
      - [实例4：量化相关Attribute](#实例4量化相关attribute)
      - [实例5：形状变换操作](#实例5形状变换操作)
      - [实例6：激活函数](#实例6激活函数)
    - [实际应用场景](#实际应用场景)
      - [场景1：模型转换时的Attribute处理](#场景1模型转换时的attribute处理)
      - [场景2：量化时的Attribute设置](#场景2量化时的attribute设置)
      - [场景3：硬件特定的Attribute](#场景3硬件特定的attribute)


# 前言

本人正在搞AI编译器，这个博客大家可以当作学习笔记



> Written with [StackEdit中文版](https://stackedit.cn/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE2NjkyNTQ0MzldfQ==
-->