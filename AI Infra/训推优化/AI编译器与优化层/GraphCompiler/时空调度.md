# 调度优化

## 子网融合

### 目的

反向合并过小的subnet

### 策略

成本模型：计算每个subnet的执行时间和通信开销

融合规则：

如果两个相邻subnet都很小（<1ms）
且通信开销 > 计算开销
则合并为一个subnet

### 例子：

```
Before fusion:
Subnet A: {Reshape}        ← 0.01ms 计算
    ↓ 数据传输开销 0.1ms
Subnet B: {Add}            ← 0.02ms 计算
    ↓ 数据传输开销 0.1ms
Subnet C: {Mul}            ← 0.01ms 计算

After fusion:
Subnet ABC: {Reshape, Add, Mul}  ← 0.04ms 计算，节省0.2ms传输
```

